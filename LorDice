using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using LOR_DiceSystem;

public class DiceCardAbility_001_test : DiceCardAbilityBase
{
    public override void OnSucceedAttack()
    {
        base.OnSucceedAttack();
        BattlePlayingCardDataInUnitModel card = base.card;
        BattleUnitModel battleUnitModel = (card != null) ? card.target : null;
        if (battleUnitModel == null)
        {
            return;
        }
        BattleUnitBuf battleUnitBuf = battleUnitModel.bufListDetail.GetActivatedBufList().Find((BattleUnitBuf x) => x is BattleUnitBuf_SnowQueen_Debuf);
        if (battleUnitBuf == null)
        {
            battleUnitBuf = new BattleUnitBuf_SnowQueen_Debuf(base.owner);
            battleUnitModel.bufListDetail.AddBuf(battleUnitBuf);
        }
        battleUnitBuf.stack += 3;
        if (base.card.card.XmlData.Spec.Ranged == CardRange.Far)
        {
            BattleCardTotalResult battleCardResultLog = battleUnitModel.battleCardResultLog;
            if (battleCardResultLog == null)
            {
                return;
            }
            battleCardResultLog.SetCreatureAbilityEffect("0/SnowQueen_FarEffect", 1f);
        } }
    public static string Desc = "[적중 시] 한기를 3 부여";
}

public class DiceCardAbility_004_test : DiceCardAbilityBase
{
    public override bool IsPercentDmg
    {
        get
        {
            return true;
        }
    }
    public static string Desc = "이 주사위의 피해량은 '대상의 최대 체력 x (주사위 값 x 2)%' (내성 무시)";
}

// Token: 0x0200086A RID: 2154
public class DiceCardAbility_005_test : DiceCardAbilityBase
{
    public override void OnSucceedAreaAttack(BattleUnitModel target)
    {
        if (target != null)
        {
            target.breakDetail.breakLife--;
            target.breakDetail.breakGauge = 0;
            target.breakDetail.DestroyBreakPoint(null);
        }
    }
    public static string Desc = "대상을 흐트러짐 상태로 만듦";
}
public class DiceCardAbility_003_test : DiceCardAbilityBase
{
    public override string[] Keywords
    {
        get
        {
            return new string[]
            {
                "Burn_Keyword"
            };
        }
    }
    public override void OnSucceedAttack()
    {
        BattleUnitModel target = base.card.target;
        if (target == null)
        {
            return;
        }
        target.bufListDetail.AddKeywordBufByCard(KeywordBuf.Burn, 80, base.owner);
    }
    public static string Desc = "[적중 시] 화상을 80 부여";
}

public class DiceCardSelfAbility_010 : DiceCardSelfAbilityBase
{
    // Token: 0x06003191 RID: 12689 RVA: 0x0012CB73 File Offset: 0x0012AD73
    public override void OnUseCard()
    {
        base.owner.TakeBreakDamage(200, DamageType.Card_Ability, base.owner, AtkResist.Normal, KeywordBuf.None);
    }
    public static string Desc = "[사용 시] 자신에게 흐트러짐 피해 200";
}

public class DiceCardSelfAbility_011 : DiceCardSelfAbilityBase
{
    // Token: 0x06003191 RID: 12689 RVA: 0x0012CB73 File Offset: 0x0012AD73
    public override void OnUseCard()
    {
        base.owner.TakeBreakDamage(400, DamageType.Card_Ability, base.owner, AtkResist.Normal, KeywordBuf.None);
    }
    public static string Desc = "[사용 시] 자신에게 흐트러짐 피해 400";
}

public class DiceCardAbility_recoverBreak100atk : DiceCardAbilityBase
{
    public override void OnSucceedAttack()
    {
        base.owner.breakDetail.RecoverBreak(100);
    }
    public static string Desc = "[사용 시] 자신의 흐트러짐 저항 100 회복";
}
